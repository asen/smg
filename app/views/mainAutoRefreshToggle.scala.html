@import com.smule.smg.rrd.SMGRrd
@(defaultAutoRefreshEnabled: Boolean, autoRefreshInterval: Int)
@if(autoRefreshInterval > 0){
@if(defaultAutoRefreshEnabled){
<a href="#" title="Auto refresh is running with @SMGRrd.intervalToStr(autoRefreshInterval) interval - click to pause"
   id="smgAutoRefreshToggleElem" onclick="smgAutoRefreshToggleClick()"><b>Auto refresh (interval - @SMGRrd.intervalToStr(autoRefreshInterval))</b></a>
} else {
<a href="#" title="Auto refresh is not started by default - click to start with @SMGRrd.intervalToStr(autoRefreshInterval) interval"
   id="smgAutoRefreshToggleElem" onclick="smgAutoRefreshToggleClick()"><b>Auto refresh (not started)</b></a>
}
<script language="JavaScript">
  function smgAutoRefreshToggleClick(){
    var aElem = document.getElementById("smgAutoRefreshToggleElem")
    if (smgIsAutoRefreshing()){
      smgStopAutoRefresh();
      aElem.innerHTML = "<b>Auto refresh (stopped)</b>"
      aElem.title = "Auto refresh is stopped - click to resume with @SMGRrd.intervalToStr(autoRefreshInterval) interval"
    } else {
      smgStartAutoRefresh(@autoRefreshInterval);
      aElem.innerHTML = "<b>Auto refresh (interval - @SMGRrd.intervalToStr(autoRefreshInterval))</b>"
      aElem.title = "Auto refresh is running with @SMGRrd.intervalToStr(autoRefreshInterval) interval - click to pause"
    }
  }
</script>
} else {
  <a href="#" class="disabled">Auto refresh (disabled)</a>
}
